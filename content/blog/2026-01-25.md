---
title: 2026年1月4週
createdAt: 2026-01-25
updatedAt: 2026-01-25
---

え！もう4週目終わったの！怖い！

<!--more-->

## ryuhei373.dev

iOSで記事を閲覧した際に、折り返しが異様に変な位置になってしまう挙動を修正した。

markdownファイルをレンダリングする際にNuxt UIが`<p>`タグに`text-pretty`クラスを付与するのだが、iOSのWebKitでは日本語の折り返し挙動が不安定になるようで、`text-pretty`を削除したProsePコンポーネントでオーバーライドすることにより解決した。

```vue [app/components/content/ProseP.vue]
<template>
  <p class="my-5 leading-7">
    <slot />
  </p>
</template>
```

レンダリングエンジンの問題なので、Macで画面サイズとユーザーエージェントをiPhoneと同等のものにしても再現できず、原因の特定に苦労した。Safariを通してMacからiPhone実機の表示をwebインスペクタで確認することで、ようやく修正できた。いい勉強になった。

## 仕事

Railsのバージョンアップ対応を昨年末から行っていて、第一段階のリリースをしたのだが、いくつか不具合を出してしまった。

切り戻しの判断になりかけたところで、切り戻しを行った際の影響が稼働中のサービスに大きな影響を与えることに気づけて改めてチームで対応方針の意思決定を行えた。

不具合を起こしてしまったことは失敗ではあるが、不具合発生中の焦りの中でもある程度冷静な判断が行えたのはよかった。

## プライベート

Windows機に1TBのSSDを2台増設したので、CとDでパーティションを分けていたSSDのパーティション解除ついでにWindows 11をクリーンインストールした。

クリーンインストールついでに、以前から使っていた[ctrl-ime-ahk](https://github.com/Miraium/ctrl-ime-ahk)をAutoHotKey v2用に書き直した。書き直した、といっても知人が実装したalt版である[alt-ime-mapper](https://github.com/wizaman/alt-ime-mapper)をforkしてctrl用にしただけではあるのだけど。

これはWin機でMac用のUS配列キーボードを使っている自分のためのものなので、もし同じ環境の人がいたら、使ってみてください。（そのモチベーションがあるならもう自分でahkスクリプト書いてそうな気もするけど）

:link-card{url="https://github.com/ryuhei373/ctrl-ime-mapper"}

（alt-ime-mapperをforkしてきたのでこの名前）

### 健康

[先週の記事](./2026-01-18.md)でも書いたが、とにかく水を飲むことを目標にするため、KINTOのウォーターボトルを購入した。

:link-card{url="https://kinto.co.jp/products/20141"}

毎日2L飲むことを目標にしているので、このボトルを2回分飲みきれば概ね目標達成ということになる。

上に書いたように、目標を定量化することが購入の一番の目的だったが、ある程度容量のあるボトルをデスクに置いておけるというメリットも大きかった。今までデスクに張りついていると水を飲むことをすぐに忘れてしまっていたが、このボトルのおかげで途端に水を飲むことが習慣化されて本当にいい買い物だった。早くも2026年ベストバイにノミネートされている。
